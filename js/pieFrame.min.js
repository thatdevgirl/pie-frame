"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var a=0,r=Array(t.length);a<t.length;a++)r[a]=t[a];return r}return Array.from(t)}var pfBarChart={config:{barThickness:25,barGutter:8,labelWidth:100,labelBaseline:20},display:function(t){var a=this.config;this.chart=t,this.processChartData(),this.width=Math.max.apply(Math,_toConsumableArray(this.dataset)),this.height=this.dataset.length*(a.barThickness+a.barGutter),this.createSvg(),this.createBars(),this.createLabels()},processChartData:function(){this.labels=[],this.dataset=[];var t=!0,a=!1,r=void 0;try{for(var e,i=this.chart.data.values[Symbol.iterator]();!(t=(e=i.next()).done);t=!0){var n=e.value;this.labels.push(n[0]),this.dataset.push(n[1])}}catch(t){a=!0,r=t}finally{try{!t&&i.return&&i.return()}finally{if(a)throw r}}},createSvg:function(){this.svg=d3.select(this.chart.el).append("svg").attr("width","100%").attr("height",this.height)},createBars:function(){var t=this;return this.svg.selectAll("rect").data(this.dataset).enter().append("rect").attr("height",this.config.barThickness).attr("width",function(a){return t.getBarSize(a)}).attr("x",this.config.labelWidth).attr("y",function(a,r){return t.getBarLocation(r)}).attr("fill","blue")},createLabels:function(){var t=this;return this.svg.selectAll("text").data(this.labels).enter().append("text").text(function(t){return t}).attr("height",this.config.barThickness).attr("y",function(a,r){return t.getBarLocation(r,t.config.labelBaseline)}).attr("fill","black")},getBarSize:function(t){return t/this.width*100+"%"},getBarLocation:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t*this.config.barThickness+t*this.config.barGutter+a}},pieFrame={apiKey:"AIzaSyDwOQMIN3mLy9xyaiWrYJz1jZbozHB81Co",create:function(){var t=this,a=$("chart"),r=!0,e=!1,i=void 0;try{for(var n,s=function(){var a=n.value,r=t.getChartInfo(a),e=t.getSheetUrl(r.id);$.ajax(e,{success:function(a){r.data=a,t.processData(r)},error:function(t){return console.log(t),!1}})},h=a[Symbol.iterator]();!(r=(n=h.next()).done);r=!0)s()}catch(t){e=!0,i=t}finally{try{!r&&h.return&&h.return()}finally{if(e)throw i}}},getChartInfo:function(t){var a={id:$(t).attr("data-id"),type:$(t).attr("data-type")};return $(t).replaceWith($('<div class="chart" data-id="'+a.id+'"></div>')),a.el=$("div[data-id="+a.id+"]")[0],a},getSheetUrl:function(t){return"https://sheets.googleapis.com/v4/spreadsheets/"+t+"/values/A2%3AZ1000/?key="+this.apiKey},processData:function(t){switch(t.type){case"horizontal-bar":pfBarChart.display(t);break;case"vertical-bar":}}};$(document).ready(function(){pieFrame.create()});